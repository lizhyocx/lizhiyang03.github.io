(function(e){function t(t){for(var o,r,s=t[0],i=t[1],c=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);p&&p(t);while(d.length)d.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],o=!0,s=1;s<a.length;s++){var i=a[s];0!==n[i]&&(o=!1)}o&&(l.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},n={app:0},l=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=i;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"024c":function(e,t){e.exports=AMap},"034f":function(e,t,a){"use strict";var o=a("85ec"),n=a.n(o);n.a},"3a7d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Main",{attrs:{msg:"this is a main component"}})],1)},l=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map_container"},[a("div",{staticClass:"ui_container"},[a("el-row",[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"option_input_label"},[e._v("geohash位数:")])]),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"geohash位数精度"},model:{value:e.geohash_precision,callback:function(t){e.geohash_precision=t},expression:"geohash_precision"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("div",[e._v("点击地图时标记选项：")])])],1),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:12}},[a("el-radio",{staticClass:"option_radio_style",attrs:{label:"1"},model:{value:e.labelType,callback:function(t){e.labelType=t},expression:"labelType"}},[e._v("标注点击区域")])],1),a("el-col",{attrs:{span:12}},[a("el-radio",{staticClass:"option_radio_style",attrs:{label:"2"},model:{value:e.labelType,callback:function(t){e.labelType=t},expression:"labelType"}},[e._v("标注相邻9区域")])],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("div",[e._v("点击地图时添加删除选项：")])])],1),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-col",{attrs:{span:12}},[a("el-radio",{staticClass:"option_radio_style",attrs:{label:"1"},model:{value:e.addRemoveType,callback:function(t){e.addRemoveType=t},expression:"addRemoveType"}},[e._v("点击时添加")])],1),a("el-col",{attrs:{span:12}},[a("el-radio",{staticClass:"option_radio_style",attrs:{label:"2"},model:{value:e.addRemoveType,callback:function(t){e.addRemoveType=t},expression:"addRemoveType"}},[e._v("点击时删除")])],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("el-button",{on:{click:function(t){return e.clearMarker()}}},[e._v("清除标注块")])],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"option_input_label"},[e._v("geohash编码:")])]),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"geohash编码"},model:{value:e.geohash_code,callback:function(t){e.geohash_code=t},expression:"geohash_code"}})],1)],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:24}},[a("el-button",{on:{click:function(t){return e.geohashLocate()}}},[e._v("geohash定位")])],1)],1)],1),a("div",{staticClass:"mapStyle",attrs:{id:"mapDiv"}})])},s=[],i=(a("d81d"),a("024c")),c=a.n(i),p=a("ead3"),u={data:function(){return{map:void 0,geohash_precision:6,markers:{},labelType:"1",addRemoveType:"1",geohash_code:""}},mounted:function(){this.initMap()},methods:{initMap:function(){this.map=new c.a.Map("mapDiv",{center:[114.085947,22.547],zoom:15,rotateEnable:!1,dragEnable:!0}),this.map.on("complete",(function(){console.log("map has loaded")})),this.map.on("click",this.mapClick)},mapClick:function(e){var t=e.lnglat.lng,a=e.lnglat.lat;console.log("map click. lng:",t,", lat:",a);var o=this.geohash_precision;"string"==typeof o&&(o=parseInt(o));var n=p["a"].encode(a,t,o);if(console.log(n),"1"==this.addRemoveType&&(this.markerGeohash(n),"2"==this.labelType)){var l=p["a"].neighbours(n);for(var r in console.log("neighboursCode:",l),l)this.markerGeohash(l[r])}},rectClick:function(e){var t=e.target.getExtData();console.log("rectClick:",t),"2"==this.addRemoveType&&this.removeMarker(t)},labelClick:function(e){var t=e.target.getExtData();console.log("getExtData:",t),"2"==this.addRemoveType&&this.removeMarker(t)},geohashLocate:function(){var e=p["a"].decode(this.geohash_code);console.log(e),this.map.panTo(new c.a.LngLat(e.lon,e.lat),10),this.markerGeohash(this.geohash_code)},markerGeohash:function(e){if(!this.markers.hasOwnProperty(e)){var t=p["a"].bounds(e);console.log("bounds:",t);var a=new c.a.LngLat(t.sw.lon,t.sw.lat,!0),o=new c.a.LngLat(t.ne.lon,t.ne.lat,!0),n=new c.a.Bounds(a,o),l=new c.a.Rectangle({map:this.map,zIndex:10,bounds:n,strokeColor:"#00FFFF",strokeOpacity:.9,strokeWeight:1,fillColor:"#FFFF00",fillOpacity:.5,strokeStyle:"solid",bubble:!0,extData:e});l.on("click",this.rectClick);var r=p["a"].decode(e),s=new c.a.LngLat(r.lon,r.lat,!0),i=new c.a.Text({map:this.map,text:e,position:s,anchor:"center",zIndex:5,extData:e});i.on("click",this.labelClick),this.markers[e]={rect:l,label:i}}},removeMarker:function(e){if(this.markers.hasOwnProperty(e)){var t=this.markers[e];t.rect.setMap(null),t.label.setMap(null),delete this.markers[e]}},clearMarker:function(){for(var e in this.markers){var t=this.markers[e];t.rect.setMap(null),t.label.setMap(null)}this.markers={}}}},d=u,h=(a("c266"),a("2877")),f=Object(h["a"])(d,r,s,!1,null,null,null),v=f.exports,m={name:"App",components:{Main:v}},g=m,b=(a("034f"),Object(h["a"])(g,n,l,!1,null,null,null)),y=b.exports,_=(a("0fae"),a("5c96")),k=a.n(_);o["default"].use(k.a),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(y)}}).$mount("#app")},"85ec":function(e,t,a){},c266:function(e,t,a){"use strict";var o=a("3a7d"),n=a.n(o);n.a}});